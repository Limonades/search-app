(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{C6Ja:function(e,t,s){"use strict";s.r(t),s.d(t,"SearchModule",function(){return F});var r=s("ofXK"),n=s("tyNb"),i=s("IzEk"),c=s("pLZG"),a=s("fXoL"),o=s("hHHB"),u=s("1d0G"),h=s("3Pt+"),l=s("7o/Q"),d=s("quSY");class p extends d.a{constructor(e,t){super()}schedule(e,t=0){return this}}class b extends p{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const s=this.id,r=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(r,s,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,s=0){return setInterval(e.flush.bind(e,this),s)}recycleAsyncId(e,t,s=0){if(null!==s&&this.delay===s&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(e,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,r=!1;try{this.work(e)}catch(n){r=!0,s=!!n&&n||new Error(n)}if(r)return this.unsubscribe(),s}_unsubscribe(){const e=this.id,t=this.scheduler,s=t.actions,r=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&s.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let f=(()=>{class e{constructor(t,s=e.now){this.SchedulerAction=t,this.now=s}schedule(e,t=0,s){return new this.SchedulerAction(this,e).schedule(s,t)}}return e.now=()=>Date.now(),e})();class m extends f{constructor(e,t=f.now){super(e,()=>m.delegate&&m.delegate!==this?m.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,s){return m.delegate&&m.delegate!==this?m.delegate.schedule(e,t,s):super.schedule(e,t,s)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let s;this.active=!0;do{if(s=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,s){for(;e=t.shift();)e.unsubscribe();throw s}}}const y=new m(b);class g{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new w(e,this.dueTime,this.scheduler))}}class w extends l.a{constructor(e,t,s){super(e),this.dueTime=t,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function _(e){e.debouncedNext()}class P{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new v(e,this.compare,this.keySelector))}}class v extends l.a{constructor(e,t,s){super(e),this.keySelector=s,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:s}=this;t=s?s(e):e}catch(r){return this.destination.error(r)}let s=!1;if(this.hasKey)try{const{compare:e}=this;s=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;s||(this.key=t,this.destination.next(e))}}const x=["10","20","50","100"];function O(e,t){if(1&e&&(a.Lb(0,"option",6),a.fc(1),a.Kb()),2&e){const e=t.$implicit;a.Xb("value",e),a.yb(1),a.hc(" ",e," ")}}let q=(()=>{class e{constructor(){this.formUpdates=new a.n,this.qtyOptions=x,this.searchForm=new h.d({query:new h.b(""),perPageQty:new h.b("20")})}ngOnInit(){this.searchForm.valueChanges.pipe(function(e,t=y){return s=>s.lift(new g(e,t))}(300),e=>e.lift(new P(void 0,void 0))).subscribe(e=>this.formUpdates.emit({q:e.query,per_page:e.perPageQty})),this.queryParams&&this.searchForm.patchValue(this.parseQueryParams(this.queryParams))}ngOnDestroy(){}parseQueryParams(e){const t={};return e.q&&(t.query=e.q),e.per_page&&(t.perPageQty=e.per_page),t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Cb({type:e,selectors:[["app-search-bar"]],inputs:{queryParams:"queryParams"},outputs:{formUpdates:"formUpdates"},decls:10,vars:2,consts:[[1,"_form",3,"formGroup"],[1,"label"],[1,"label-txt"],["type","text","formControlName","query",1,"input"],["formControlName","perPageQty",1,"select","input"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(a.Lb(0,"form",0),a.Lb(1,"label",1),a.Lb(2,"span",2),a.fc(3,"Enter image name"),a.Kb(),a.Jb(4,"input",3),a.Kb(),a.Lb(5,"label",1),a.Lb(6,"span",2),a.fc(7,"Select options"),a.Kb(),a.Lb(8,"select",4),a.ec(9,O,2,2,"option",5),a.Kb(),a.Kb(),a.Kb()),2&e&&(a.Xb("formGroup",t.searchForm),a.yb(9),a.Xb("ngForOf",t.qtyOptions))},directives:[h.k,h.g,h.e,h.a,h.f,h.c,h.j,r.i,h.h,h.l],styles:["[_nghost-%COMP%]{display:block;padding-top:30px}[_nghost-%COMP%]   ._form[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"],changeDetection:0}),e})();function C(e,t){if(1&e&&(a.Lb(0,"a",3),a.Jb(1,"img",4),a.Kb()),2&e){const e=t.$implicit;a.Zb("routerLink","/image-detail/",e.id,""),a.yb(1),a.Xb("src",e.webformatURL,a.cc)("alt",e.tags)}}function S(e,t){1&e&&(a.Lb(0,"div",5),a.fc(1," There are no images that suits your criteria "),a.Kb())}let k=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Cb({type:e,selectors:[["app-search-results"]],inputs:{searchResult:"searchResult"},decls:3,vars:2,consts:[[1,"_wrap"],["class","_item",3,"routerLink",4,"ngFor","ngForOf"],["class","_search-placeholder",4,"ngIf"],[1,"_item",3,"routerLink"],[3,"src","alt"],[1,"_search-placeholder"]],template:function(e,t){1&e&&(a.Lb(0,"div",0),a.ec(1,C,2,3,"a",1),a.ec(2,S,2,0,"div",2),a.Kb()),2&e&&(a.yb(1),a.Xb("ngForOf",null==t.searchResult?null:t.searchResult.hits),a.yb(1),a.Xb("ngIf",0===(null==t.searchResult?null:t.searchResult.total)))},directives:[r.i,r.j,n.c],styles:['[_nghost-%COMP%]   ._item[_ngcontent-%COMP%]{margin:0;width:20%;height:200px;transition:all .1s linear;position:relative}[_nghost-%COMP%]   ._item[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-2px;left:-2px;background-color:#fff;width:calc(100% + 4px);height:calc(100% + 4px);z-index:-1}[_nghost-%COMP%]   ._item[_ngcontent-%COMP%]:hover{transform:scale(1.04);z-index:1}[_nghost-%COMP%]   ._item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}[_nghost-%COMP%]   ._wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}[_nghost-%COMP%]   ._search-placeholder[_ngcontent-%COMP%]{margin:0 auto}'],changeDetection:0}),e})();const L=[{path:"",component:(()=>{class e{constructor(e,t,s){this.searchService=e,this.router=t,this.activatedRoute=s}ngOnInit(){this.getUrlSearchParams()}getSearchResult(e){this.setSearchValueToQuery(e),this.searchResult$=this.searchService.getRequest(e)}setSearchValueToQuery(e){this.router.navigate([],{queryParams:e,queryParamsHandling:"merge"})}getUrlSearchParams(){this.queryParams$=this.activatedRoute.queryParams.pipe(Object(i.a)(1),Object(c.a)(e=>{return!((t=e)&&0===Object.keys(t).length&&t.constructor===Object);var t}))}}return e.\u0275fac=function(t){return new(t||e)(a.Ib(o.a),a.Ib(n.b),a.Ib(n.a))},e.\u0275cmp=a.Cb({type:e,selectors:[["app-search"]],decls:7,vars:6,consts:[[3,"queryParams","formUpdates"],[3,"searchResult"]],template:function(e,t){1&e&&(a.Lb(0,"app-container"),a.Lb(1,"app-search-bar",0),a.Rb("formUpdates",function(e){return t.getSearchResult(e)}),a.Tb(2,"async"),a.Kb(),a.Kb(),a.Jb(3,"hr"),a.Lb(4,"app-container"),a.Jb(5,"app-search-results",1),a.Tb(6,"async"),a.Kb()),2&e&&(a.yb(1),a.Xb("queryParams",a.Ub(2,2,t.queryParams$)),a.yb(4),a.Xb("searchResult",a.Ub(6,4,t.searchResult$)))},directives:[u.a,q,k],pipes:[r.b],styles:[""],changeDetection:0}),e})()}];let K=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Gb({type:e}),e.\u0275inj=a.Fb({imports:[[n.d.forChild(L)],n.d]}),e})();var M=s("nvPV");let R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Gb({type:e}),e.\u0275inj=a.Fb({imports:[[r.c,h.i]]}),e})(),I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Gb({type:e}),e.\u0275inj=a.Fb({imports:[[r.c,n.d]]}),e})(),F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Gb({type:e}),e.\u0275inj=a.Fb({imports:[[r.c,K,M.a,R,I]]}),e})()}}]);